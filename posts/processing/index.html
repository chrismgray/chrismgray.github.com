<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Processing</title>

<link rel="stylesheet" href="../../style.css" type="text/css" />

<link rel="stylesheet" href="../../local.css" type="text/css" />





<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
</head>
<body>

<div class="page">

<div class="pageheader">
<div class="header">
<span>
<span class="parentlinks">

<a href="../../">Hiking and Coding</a>/ 

<a href="../">posts</a>/ 

</span>
<span class="title">
Processing

</span>
</span>

</div>


<div class="actions">
<ul>


<li><a href="../../recentchanges/">RecentChanges</a></li>






<li>

<a href="">Comment</a>

</li>

</ul>
</div>




</div>



<div id="pagebody">

<div id="content">
<div id="outline-container-1" class="outline-2">
<h2 id="sec-1">Viewing visibility polygons </h2>
<div class="outline-text-2" id="text-1">


<p>
  I mentioned yesterday that it would be nice to see the output of my
  visibility polygon solution.  To that end, I created an extremely
  simple drawing editor using <a href="http://processing.org/">Processing</a>.  I have to say, I loved it.
</p>
<p>
  The most important feature to me is the extreme interactivity.  I
  can change functions extremely quickly with my tools &ndash; redefining a
  Clojure function is either one or two keystrokes in emacs, depending
  how I choose to do it &ndash; so I like a graphics environment that
  changes just as quickly.  This is what Processing, and in particular
  <code>clj-processing</code>, offers.  I was able to define a function that
  draws the various objects (in this case, the polygon, the point
  where the mouse is, and the visibility polygon of the mouse point
  inside the polygon).  If I wanted to make any changes to this
  function &ndash; for example, changing the color of the point where the
  mouse is &ndash; I can simply redefine the function using my emacs tools
  and the change shows up immediately on the drawing.
</p>
<p>
  I was able to use this to find a couple of minor bugs in my
  visibility-polygon-finding code, but in general, it worked really
  well on the first try.
</p>

</div>

<div id="outline-container-1-1" class="outline-3">
<h3 id="sec-1-1">Shortcomings </h3>
<div class="outline-text-3" id="text-1-1">


<p>
   There were a couple of things that slightly bothered me about
   <code>clj-processing</code>.  First, it used quite a lot of CPU just to
   display a simple polygon without too many points.  I am probably
   using it rather na√Øvely, so it is possible that this is my problem
   and not the problem of <code>clj-processing</code>.  However, the second
   problem is just that <code>clj-processing</code> is showing its age.  I think
   it was probably one of the first Clojure libraries out there and
   much of the coding style hasn't evolved with the Clojure best
   practices that people use.  For example, some of the features do
   not work if you only <code>require</code> the library &ndash; you must <code>use</code> it.  I
   try to only <code>require</code> libraries, to avoid my namespace becoming
   overly populated, so it is frustrating when that doesn't work.
</p>
</div>
</div>

</div>

<div id="outline-container-2" class="outline-2">
<h2 id="sec-2">Going forward </h2>
<div class="outline-text-2" id="text-2">


<p>
  I need to clean up the code a bit before I can put it up on github,
  but it should be there soon.  It currently needs me to explicitly
  call the function in order to find the visibility polygon.  I would
  really like it to find the visibility polygon of any point where the
  mouse is inside the polygon.  However, determining if a point is
  inside a non-convex polygon tends to be a bit harder than it
  sounds.  You can shoot a ray in one direction from a point, and
  count the number of polygon edges that it crosses &ndash; if it's even
  you are outside and if it's odd you are inside &ndash; but what happens
  if the ray crosses a vertex?  There was a good experimental paper on
  this problem at a recent EuroCG.
</p>
<p>
  So that's a slightly non-trivial problem.  I also coded an
  implementation of the Voronoi Diagram problem recently.  I should
  add a Processing UI to that as well.  I have a feeling that would be
  the easier task to do next, and I would surely discover some bugs in
  it while I did.
</p>


</div>
</div>

</div>

</div>

<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'hikingandcoding'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>


<div id="footer" class="pagefooter">

<div id="pageinfo">


<div class="tags">
Tags:

<a href="../../tags/clojure/" rel="tag">clojure</a>

<a href="../../tags/lab-notes/" rel="tag">lab-notes</a>

<a href="../../tags/processing/" rel="tag">processing</a>

<a href="../../tags/visibility-polygon/" rel="tag">visibility-polygon</a>

</div>








<div class="pagedate">
Last edited <span class="date">Thu 01 Dec 2011 12:45:19 AM MST</span>
<!-- Created <span class="date">Tue 22 Nov 2011 12:29:29 PM MST</span> -->
</div>

</div>


<!-- from Hiking and Coding -->
</div>

</div>

</body>
</html>
